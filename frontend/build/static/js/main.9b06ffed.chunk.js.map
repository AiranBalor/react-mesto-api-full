{"version":3,"sources":["images/logo.svg","components/Header.js","images/footer__copyright-image.svg","components/Footer.js","images/edit-button.svg","images/add-button.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/utils.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/AuthorizationForm.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","images/profile-avatar.jpg","images/success-icon.svg","images/failure-icon.svg","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","onLogout","loggedIn","userEmail","pathname","useLocation","linkText","linkPath","className","src","logo","alt","onClick","to","Footer","footerImage","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","type","link","name","length","Main","cards","onEditProfile","onAddPlace","onEditAvatar","avatar","profileEditButtonImage","about","cardAddButtonImage","map","PopupWithForm","title","children","text","isOpen","onClose","onSubmit","isForm","noValidate","ImagePopup","handleOriginalResponse","res","ok","json","Promise","reject","status","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","localStorage","getItem","then","all","getUserInfoFromServer","getInitialCards","userData","method","body","JSON","stringify","cardData","cardId","avatarLink","EditProfilePopup","onUpdateUser","useState","setUserName","description","setUserDescription","useEffect","e","preventDefault","id","placeholder","minLength","maxLength","onChange","target","value","required","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","AddPlacePopup","cardName","setCardName","cardLink","setCardLink","AuthorizationForm","active","action","Login","onLogin","email","password","data","setData","handleChange","Register","onRegister","ProtectedRoute","Component","component","props","InfoTooltip","message","isModal","icon","BASE_URL","App","setEmail","setMessage","setLoggedIn","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isImagePopupOpen","setImagePopupOpen","isInfoTooltipOpen","setInfoTooltipOpen","selectedCard","setSelectedCard","defaultAvatar","setCurrentUser","setCards","history","useHistory","closeAllPopups","handleLogout","removeItem","push","getAllInfo","userInfo","cardsInfo","catch","err","console","log","token","jwt","statusText","error","failureIcon","Provider","exact","path","handleCardClick","i","changeLikeCardStatus","newCard","state","c","deleteCardFromServer","filter","Accept","setItem","auth","successIcon","info","updateUserInfo","sendNewCard","updateAvatar","newData","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qNAAe,MAA0B,iC,OC4B1BA,MAxBf,YAAoD,IAAlCC,EAAiC,EAAjCA,SAAUC,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,UAC5BC,EAAaC,cAAbD,SACFE,EAAQ,UAAmB,YAAbF,EAAyB,qEAAgB,kCACvDG,EAAQ,UAAmB,YAAbH,EAAyB,UAAY,WAEzD,OACE,yBAAQI,UAAU,SAAlB,UACE,qBAAKA,UAAU,OAAOC,IAAKC,EAAMC,IAAI,oFACpCT,EACC,sBAAKM,UAAU,oBAAf,UACE,sBAAMA,UAAU,qBAAhB,SAAsCL,IACtC,wBAAQK,UAAU,kBAAkBI,QAASX,EAA7C,+CAKF,cAAC,IAAD,CAAMY,GAAIN,EAAUC,UAAU,eAA9B,SACGF,QCrBI,MAA0B,oDCc1BQ,MAZf,WACE,OACE,wBAAQN,UAAU,SAAlB,SACE,qBACEA,UAAU,0BACVC,IAAKM,EACLJ,IAAI,0JCRG,MAA0B,wCCA1B,MAA0B,uCCG1BK,EAFYC,IAAMC,gBC6DlBC,MA3Df,YAAgE,IAAhDC,EAA+C,EAA/CA,KAAMC,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,aAAcC,EAAc,EAAdA,WACzCC,EAAcP,IAAMQ,WAAWT,GAE/BU,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IAEvCC,EAAyB,UAC7BH,EACI,+BACA,uCAGAI,EAAUV,EAAKW,MAAMC,MAAK,SAACC,GAAD,OAAUA,EAAKL,MAAQJ,EAAYI,OAE7DM,EAAuB,UAC3BJ,EAAU,oCAAsC,IAelD,OACE,0BAAStB,UAAU,gBAAnB,UACE,wBACE2B,KAAK,SACL3B,UAAWqB,EACXjB,QAbN,WACEU,EAAaF,MAcX,qBACEZ,UAAU,yBACVC,IAAKW,EAAKgB,KACVzB,IAAKS,EAAKiB,KACVzB,QAvBN,WACES,EAAYD,MAwBV,sBAAKZ,UAAU,sBAAf,UACE,oBAAIA,UAAU,uBAAd,SAAsCY,EAAKiB,OAC3C,sBAAK7B,UAAU,iCAAf,UACE,wBACE2B,KAAK,SACL3B,UAAS,qCAAgC0B,GACzCtB,QAvBV,WACEW,EAAWH,MAwBL,sBAAMZ,UAAU,+BAAhB,SACGY,EAAKW,MAAMO,mBCiBTC,MAjEf,YAQI,IAPFC,EAOC,EAPDA,MACAC,EAMC,EANDA,cACAC,EAKC,EALDA,WACAC,EAIC,EAJDA,aACAtB,EAGC,EAHDA,YACAC,EAEC,EAFDA,aACAC,EACC,EADDA,WAEMC,EAAcP,IAAMQ,WAAWT,GAErC,OACE,uBAAMR,UAAU,UAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,qBAAKA,UAAU,mBAAf,SACE,qBACEA,UAAU,kBACVC,IAAKe,EAAYoB,OACjBjC,IAAI,gHACJC,QAAS+B,MAGb,sBAAKnC,UAAU,gBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BgB,EAAYa,OAC3C,wBACEF,KAAK,SACL3B,UAAU,uBACVI,QAAS6B,EAHX,SAKE,qBACEjC,UAAU,+BACVC,IAAKoC,EACLlC,IAAI,2KAGR,mBAAGH,UAAU,sBAAb,SAAoCgB,EAAYsB,WAElD,wBACEX,KAAK,SACL3B,UAAU,sBACVI,QAAS8B,EAHX,SAKE,qBACElC,UAAU,8BACVC,IAAKsC,EACLpC,IAAI,oNAKV,yBAASH,UAAU,iBAAnB,SACGgC,EAAMQ,KAAI,SAAC5B,GAAD,OACT,cAAC,EAAD,CAEEA,KAAMA,EACNC,YAAaA,EACbC,aAAcA,EACdC,WAAYA,GAJPH,EAAKQ,cC3BPqB,MAhCf,YASI,IARFZ,EAQC,EARDA,KACAa,EAOC,EAPDA,MACAC,EAMC,EANDA,SACAC,EAKC,EALDA,KACAC,EAIC,EAJDA,OACAC,EAGC,EAHDA,QACAC,EAEC,EAFDA,SACAC,EACC,EADDA,OAEA,OACE,qBAAKhD,UAAS,sBAAiB6B,EAAjB,YAAyBgB,EAAS,eAAiB,IAAjE,SACE,uBACEE,SAAUA,EACV/C,UAAU,+BACViD,YAAU,EAHZ,UAKE,oBAAIjD,UAAU,yBAAd,SAAwC0C,IACvCC,EACAK,EACC,wBAAQrB,KAAK,SAAS3B,UAAU,gBAAhC,SACG4C,IAGH,GAEF,wBAAQjB,KAAK,SAAS3B,UAAU,eAAeI,QAAS0C,UCVjDI,MAhBf,YAA8C,IAAzBtC,EAAwB,EAAxBA,KAAMiC,EAAkB,EAAlBA,OAAQC,EAAU,EAAVA,QACjC,OACE,qBAAK9C,UAAS,2BAAsB6C,EAAS,eAAiB,IAA9D,SACE,sBAAK7C,UAAU,wBAAf,UACE,wBACE2B,KAAK,SACL3B,UAAU,wCACVI,QAAS0C,IAEX,qBAAK9C,UAAU,oBAAoBC,IAAKW,EAAKgB,KAAMzB,IAAKS,EAAKiB,OAC7D,oBAAI7B,UAAU,yBAAd,SAAwCY,EAAKiB,a,uBCHtCsB,EAPgB,SAACC,GAC9B,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,UC+ExBC,EARH,I,WAxEV,WAAYC,GAAU,oBACpBC,KAAKC,SAAWF,EAAQG,QACxBF,KAAKG,SAAWJ,EAAQK,Q,mDAG1B,WACE,OAAOC,MAAM,GAAD,OAAIL,KAAKC,SAAT,UAA2B,CACrCG,QAAQ,2BAAMJ,KAAKG,UAAZ,IACL,cAAgB,UAAhB,OAA2BG,aAAaC,QAAQ,YAEjDC,KAAKjB,K,mCAGV,WACE,OAAOc,MAAM,GAAD,OAAIL,KAAKC,SAAT,aAA8B,CACxCG,QAAQ,2BAAMJ,KAAKG,UAAZ,IACL,cAAgB,UAAhB,OAA2BG,aAAaC,QAAQ,YAEjDC,KAAKjB,K,wBAGV,WACE,OAAOI,QAAQc,IAAI,CAACT,KAAKU,wBAAyBV,KAAKW,sB,4BAGzD,SAAeC,GACb,OAAOP,MAAM,GAAD,OAAIL,KAAKC,SAAT,aAA8B,CACxCY,OAAQ,QACRT,QAASJ,KAAKG,SACdW,KAAMC,KAAKC,UAAU,CACnB/C,KAAM2C,EAAS3C,KACfS,MAAOkC,EAASlC,UAEjB8B,KAAKjB,K,yBAGV,SAAY0B,GACV,OAAOZ,MAAM,GAAD,OAAIL,KAAKC,SAAT,UAA2B,CACrCY,OAAQ,OACRT,QAASJ,KAAKG,SACdW,KAAMC,KAAKC,UAAU,CACnB/C,KAAMgD,EAAShD,KACfD,KAAMiD,EAASjD,SAEhBwC,KAAKjB,K,kCAGV,SAAqB2B,GACnB,OAAOb,MAAM,GAAD,OAAIL,KAAKC,SAAT,kBAA2BiB,GAAU,CAC/CL,OAAQ,SACRT,QAASJ,KAAKG,WACbK,KAAKjB,K,kCAGV,SAAqB2B,EAAQrB,GAC3B,OAAOQ,MAAM,GAAD,OAAIL,KAAKC,SAAT,kBAA2BiB,EAA3B,UAA2C,CACrDL,OAAShB,EAAU,MAAQ,SAC3BO,QAASJ,KAAKG,WACbK,KAAKjB,K,0BAGV,SAAa4B,GACX,OAAOd,MAAM,GAAD,OAAIL,KAAKC,SAAT,oBAAqC,CAC/CY,OAAQ,QACRT,QAASJ,KAAKG,SACdW,KAAMC,KAAKC,UAAU,CACnBxC,OAAQ2C,MAETX,KAAKjB,O,KAIA,CAAQ,CAClBW,QAAS,wBACTE,QAAS,CACP,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,QAChD,eAAgB,sBCLLa,MAtEf,YAA8D,IAAlCnC,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,QAASmC,EAAgB,EAAhBA,aAAgB,EAC/BxE,IAAMyE,SAAS,IADgB,mBACpDrD,EADoD,KAC9CsD,EAD8C,OAEjB1E,IAAMyE,SAAS,IAFE,mBAEpDE,EAFoD,KAEvCC,EAFuC,KAGrDrE,EAAcP,IAAMQ,WAAWT,GAuBrC,OALAC,IAAM6E,WAAU,WACdH,EAAYnE,EAAYa,MACxBwD,EAAmBrE,EAAYsB,SAC9B,CAACtB,IAGF,eAAC,EAAD,CACEa,KAAM,UACNa,MAAO,4HACPE,KAAM,yDACNC,OAAQA,EACRC,QAASA,EACTC,SApBJ,SAAsBwC,GACpBA,EAAEC,iBACFP,EAAa,CACXpD,OACAS,MAAO8C,KAiBPpC,QAAQ,EAPV,UASE,wBAAOhD,UAAU,eAAjB,UACE,uBACE6B,KAAK,OACL4D,GAAG,qBACHzF,UAAU,sCACV2B,KAAK,OACL+D,YAAY,qBACZC,UAAU,IACVC,UAAU,KACVC,SAxCR,SAA8BN,GAC5BJ,EAAYI,EAAEO,OAAOC,QAwCfA,MAAOlE,GAAQ,GACfmE,UAAQ,IAEV,sBAAMhG,UAAU,mDAElB,wBAAOA,UAAU,eAAjB,UACE,uBACE6B,KAAK,aACL4D,GAAG,2BACHzF,UAAU,4CACV2B,KAAK,OACL+D,YAAY,yDACZC,UAAU,IACVC,UAAU,MACVC,SAnDR,SAAqCN,GACnCF,EAAmBE,EAAEO,OAAOC,QAmDtBA,MAAOX,GAAe,GACtBY,UAAQ,IAEV,sBAAMhG,UAAU,6DC7BTiG,MApCf,YAA+D,IAApCpD,EAAmC,EAAnCA,OAAQC,EAA2B,EAA3BA,QAASoD,EAAkB,EAAlBA,eACpCC,EAAW1F,IAAM2F,OAAO,IAS9B,OACE,cAAC,EAAD,CACEvE,KAAM,SACNa,MAAO,wFACPE,KAAM,yDACNC,OAAQA,EACRC,QAASA,EACTC,SAdJ,SAAsBwC,GACpBA,EAAEC,iBACFU,EAAe,CACb9D,OAAQ+D,EAASE,QAAQN,SAYzB/C,QAAQ,EAPV,SASE,wBAAOhD,UAAU,eAAjB,UACE,uBACE6B,KAAK,OACL4D,GAAG,oBACHzF,UAAU,2CACV2B,KAAK,MACL+D,YAAY,yFACZY,IAAKH,EACLH,UAAQ,IAEV,sBAAMhG,UAAU,qDC8BTuG,MA5Df,YAAyD,IAAhC1D,EAA+B,EAA/BA,OAAQC,EAAuB,EAAvBA,QAASZ,EAAc,EAAdA,WAAc,EACtBzB,IAAMyE,SAAS,IADO,mBAC/CsB,EAD+C,KACrCC,EADqC,OAEtBhG,IAAMyE,SAAS,IAFO,mBAE/CwB,EAF+C,KAErCC,EAFqC,KAoBtD,OACE,eAAC,EAAD,CACE9E,KAAM,OACNa,MAAO,gEACPE,KAAM,6CACNC,OAAQA,EACRC,QAASA,EACTC,SAfJ,SAAsBwC,GACpBA,EAAEC,iBACFtD,EAAW,CACTL,KAAM2E,EACN5E,KAAM8E,KAYN1D,QAAQ,EAPV,UASE,wBAAOhD,UAAU,eAAjB,UACE,uBACE6B,KAAK,OACL4D,GAAG,kBACHzF,UAAU,2CACV2B,KAAK,OACL+D,YAAY,mDACZC,UAAU,IACVC,UAAU,KACVC,SAnCR,SAA8BN,GAC5BkB,EAAYlB,EAAEO,OAAOC,QAmCfC,UAAQ,IAEV,sBAAMhG,UAAU,gDAElB,wBAAOA,UAAU,eAAjB,UACE,uBACE6B,KAAK,OACL4D,GAAG,kBACHzF,UAAU,2CACV2B,KAAK,MACL+D,YAAY,qGACZG,SA3CR,SAA8BN,GAC5BoB,EAAYpB,EAAEO,OAAOC,QA2CfC,UAAQ,IAEV,sBAAMhG,UAAU,oD,QC3BT4G,MA3Bf,YAAyE,IAA5CjE,EAA2C,EAA3CA,SAAUD,EAAiC,EAAjCA,MAAOE,EAA0B,EAA1BA,KAAMiE,EAAoB,EAApBA,OAAQ9D,EAAY,EAAZA,SAC1D,OACE,qBAAK/C,UAAU,gBAAf,SACE,sBAAKA,UAAU,2BAAf,UACE,oBAAIA,UAAU,uBAAd,SAAsC0C,IACtC,uBACE1C,UAAU,sBACV+C,SAAUA,EACV+D,OAAO,IACP7D,YAAU,EAJZ,UAMGN,EACD,wBAAQhB,KAAK,SAAS3B,UAAU,+BAAhC,SACG4C,OAGL,oBAAG5C,UAAS,8BAAyB6G,GAArC,iIACwB,IACtB,cAAC,IAAD,CAAMxG,GAAG,UAAUL,UAAU,sBAA7B,qDC4CK+G,MA9Df,YAA6B,IAAZC,EAAW,EAAXA,QAAW,EACFvG,IAAMyE,SAAS,CACrC+B,MAAO,GACPC,SAAU,KAHc,mBACnBC,EADmB,KACbC,EADa,KAM1B,SAASC,EAAa9B,GAAI,IAAD,EACCA,EAAEO,OAAlBjE,EADe,EACfA,KAAMkE,EADS,EACTA,MACdqB,EAAQ,2BACHD,GADE,kBAEJtF,EAAOkE,KAaZ,OACE,eAAC,EAAD,CACErD,MAAO,2BACPE,KAAM,iCACNiE,OAAQ,GACR9D,SAdJ,SAAsBwC,GACpBA,EAAEC,iBADqB,IAEfyB,EAAoBE,EAApBF,MAAOC,EAAaC,EAAbD,SACVA,GAAaD,GAGlBD,EAAQC,EAAOC,IAIf,UAME,kCACE,uBACEvF,KAAK,QACLoE,MAAOoB,EAAKF,MACZjH,UAAU,4CACV6B,KAAK,QACLgE,SAAUwB,EACV3B,YAAY,QACZM,UAAQ,EACRL,UAAU,IACVC,UAAU,OAEZ,sBAAMH,GAAG,cAAczF,UAAU,4BAEnC,kCACE,uBACE2B,KAAK,WACLoE,MAAOoB,EAAKD,SACZlH,UAAU,+CACV6B,KAAK,WACLgE,SAAUwB,EACV3B,YAAY,uCACZM,UAAQ,EACRL,UAAU,IACVC,UAAU,OAEZ,sBAAMH,GAAG,iBAAiBzF,UAAU,gCCG7BsH,MA3Df,YAAmC,IAAfC,EAAc,EAAdA,WAAc,EACR9G,IAAMyE,SAAS,CACrC+B,MAAO,GACPC,SAAU,KAHoB,mBACzBC,EADyB,KACnBC,EADmB,KAMhC,SAASC,EAAa9B,GAAI,IAAD,EACCA,EAAEO,OAAlBjE,EADe,EACfA,KAAMkE,EADS,EACTA,MACdqB,EAAQ,2BACHD,GADE,kBAEJtF,EAAOkE,KAUZ,OACE,eAAC,EAAD,CACErD,MAAO,qEACPE,KAAM,+GACNiE,OAAQ,6BACR9D,SAXJ,SAAsBwC,GACpBA,EAAEC,iBADqB,IAEjByB,EAAoBE,EAApBF,MAAOC,EAAaC,EAAbD,SACbK,EAAWN,EAAOC,IAIlB,UAME,kCACE,uBACEvF,KAAK,QACLoE,MAAOoB,EAAKF,MACZjH,UAAU,sBACV6B,KAAK,QACLgE,SAAUwB,EACV3B,YAAY,QACZM,UAAQ,EACRL,UAAU,IACVC,UAAU,OAEZ,sBAAMH,GAAG,cAAczF,UAAU,4BAEnC,kCACE,uBACE2B,KAAK,WACLoE,MAAOoB,EAAKD,SACZlH,UAAU,sBACV6B,KAAK,WACLgE,SAAUwB,EACV3B,YAAY,uCACZM,UAAQ,EACRL,UAAU,IACVC,UAAU,OAEZ,sBAAMH,GAAG,iBAAiBzF,UAAU,gC,QC3C7BwH,MAVf,YAA6D,IAAxBC,EAAuB,EAAlCC,UAAyBC,EAAS,6BAC1D,OACE,cAAC,IAAD,UACG,kBACCA,EAAMjI,SAAW,cAAC+H,EAAD,eAAeE,IAAY,cAAC,IAAD,CAAUtH,GAAG,gBCelDuH,MAnBf,YAAoD,IAA7B/E,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,QAAS+E,EAAW,EAAXA,QACtC,OACE,eAAC,EAAD,CACEC,SAAS,EACTjG,KAAM,gBACNgB,OAAQA,EACRC,QAASA,EACTE,QAAQ,EALV,UAOE,qBACE/C,IAAK4H,EAAQE,KACb/H,UAAU,uBACVG,IAAI,4GAEN,mBAAGH,UAAU,sBAAb,SAAoC6H,EAAQjF,WCjBnC,MAA0B,2CCA1B,MAA0B,yCCA1B,MAA0B,yCCCnCoF,EAAW,wBC8RFC,MA1Qf,WAAgB,IAAD,EACaxH,IAAMyE,SAAS,IAD5B,mBACN+B,EADM,KACCiB,EADD,OAEiBzH,IAAMyE,SAAS,CAC3C6C,KAAM,GACNnF,KAAM,KAJK,mBAENiF,EAFM,KAEGM,EAFH,OAMmB1H,IAAMyE,UAAS,GANlC,mBAMNxF,EANM,KAMI0I,EANJ,OAQ6C3H,IAAMyE,UAC9D,GATW,mBAQNmD,EARM,KAQkBC,EARlB,OAWuC7H,IAAMyE,UAAS,GAXtD,mBAWNqD,EAXM,KAWeC,EAXf,OAY2C/H,IAAMyE,UAAS,GAZ1D,mBAYNuD,EAZM,KAYiBC,EAZjB,OAaiCjI,IAAMyE,UAAS,GAbhD,mBAaNyD,EAbM,KAaYC,EAbZ,OAcmCnI,IAAMyE,UAAS,GAdlD,mBAcN2D,GAdM,KAcaC,GAdb,QAe2BrI,IAAMyE,SAAS,IAf1C,qBAeN6D,GAfM,MAeQC,GAfR,SAgByBvI,IAAMyE,SAAS,CACnDrD,KAAM,iEACNS,MAAO,iFACP2E,MAAO,GACP7E,OAAQ6G,IApBG,qBAgBNjI,GAhBM,MAgBOkI,GAhBP,SAsBazI,IAAMyE,SAAS,IAtB5B,qBAsBNlD,GAtBM,MAsBCmH,GAtBD,MAwBPC,GAAUC,cAmBhB,SAASC,KACPhB,GAAwB,GACxBE,GAAqB,GACrBE,GAAuB,GACvBE,GAAkB,GAClBE,IAAmB,GA2GrB,SAASS,KACPrF,aAAasF,WAAW,OACxBtB,EAAS,IACTE,GAAY,GACZgB,GAAQK,KAAK,WA0Bf,OAjFAhJ,IAAM6E,WAAU,WACV5F,GACFgE,EACGgG,aACAtF,MAAK,YAA4B,IAAD,mBAAzBuF,EAAyB,KAAfC,EAAe,KAC/BV,GAAeS,GACfR,GAASS,MAEVC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAE/B,CAACpK,IAEJe,IAAM6E,WAAU,WACd,IDpGuB2E,ECoGjBC,EAAMhG,aAAaC,QAAQ,OAC7B+F,IDrGmBD,ECuGPC,EDtGXjG,MAAM,GAAD,OAAI+D,EAAJ,aAAyB,CACnCvD,OAAQ,MACRT,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BiG,MAG9B7F,MAAK,SAAChB,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,OAA9B,cAA0CL,EAAI+G,gBAEtD/F,MAAK,SAAA+C,GACJ,OAAOA,MCyFF/C,MAAK,SAAC+C,GACLe,EAASf,EAAKF,OACdmB,GAAY,GACZgB,GAAQK,KAAK,QAEdI,OAAM,SAACC,GACNC,QAAQK,MAAMN,GACd3B,EAAW,CACTJ,KAAMsC,EACNzH,KAAM,wMAERkG,IAAmB,QAGxB,CAACpJ,EAAU0J,KAmDZ,cAAC,EAAmBkB,SAApB,CAA6BvE,MAAO/E,GAApC,SACE,qBAAKhB,UAAU,WAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,cAAC,EAAD,CACEP,SAAU8J,GACV7J,SAAUA,EACVC,UAAWsH,IAEb,eAAC,IAAD,WACE,cAAC,EAAD,CACEsD,OAAK,EACLC,KAAK,IACL9K,SAAUA,EACV6J,aAAcA,GACd7B,UAAW3F,EACXC,MAAOA,GACPC,cAhLZ,WACEqG,GAAwB,IAgLdpG,WA7KZ,WACEsG,GAAqB,IA6KXrG,aA1KZ,WACEuG,GAAuB,IA0Kb7H,YAAa,SAACD,IAvK1B,SAAyBA,GACvBoI,GAAgBpI,GAChBgI,GAAkB,GAsKN6B,CAAgB7J,IAElBG,WAvIZ,SAAwBH,GACtB,IAAMU,EAAUV,EAAKW,MAAMC,MAAK,SAACkJ,GAAD,OAAOA,EAAEtJ,MAAQJ,GAAYI,OAC7DsC,EACGiH,qBAAqB/J,EAAKQ,KAAME,GAChC8C,MAAK,SAACwG,GACLzB,IAAS,SAAC0B,GAAD,OACPA,EAAMrI,KAAI,SAACsI,GAAD,OAAQA,EAAE1J,MAAQR,EAAKQ,IAAMwJ,EAAUE,WAGpDjB,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,OA+HpBhJ,aA5HZ,SAA0BF,GACxB8C,EACGqH,qBAAqBnK,EAAKQ,KAC1BgD,MAAK,WACJ+E,IAAS,SAAC0B,GAAD,OAAWA,EAAMG,QAAO,SAACF,GAAD,OAAOA,EAAE1J,MAAQR,EAAKQ,aAExDyI,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,SAwHtB,cAAC,IAAD,CAAOU,KAAK,UAAZ,SACE,cAAC,EAAD,CAAOxD,QA3EnB,SAAqBC,EAAOC,ID1IL,SAACD,EAAOC,GAC/B,OAAOjD,MAAM,GAAD,OAAI+D,EAAJ,WAAuB,CACjCvD,OAAQ,OACRT,QAAS,CACPiH,OAAQ,mBACR,eAAgB,oBAElBvG,KAAMC,KAAKC,UAAU,CAAEqC,QAAOC,eAE/B9C,KAAKjB,GACLiB,MAAK,SAAA+C,GACJ,GAAIA,EAAK8C,MAEP,OADA/F,aAAagH,QAAQ,MAAO/D,EAAK8C,OAC1B9C,MC8HTgE,CACalE,EAAOC,GACjB9C,MAAK,SAAChB,GACLc,aAAagH,QAAQ,MAAO9H,EAAI6G,OAChC/B,EAASjB,GACTmB,GAAY,GACZgB,GAAQK,KAAK,QAEdI,OAAM,WACL1B,EAAW,CACTJ,KAAMsC,EACNzH,KAAM,wMAERkG,IAAmB,WA+Df,cAAC,IAAD,CAAO0B,KAAK,UAAZ,SACE,cAAC,EAAD,CAAUjD,WArDtB,SAAwBN,EAAOC,IDpLT,SAACD,EAAOC,GAC9B,OAAOjD,MAAM,GAAD,OAAI+D,EAAJ,WAAuB,CACjCvD,OAAQ,OACRT,QAAS,CACPiH,OAAQ,mBACR,eAAgB,oBAElBvG,KAAMC,KAAKC,UAAU,CAAEqC,QAAOC,eAE/B9C,KAAKjB,GACLiB,MAAK,SAAA+C,GACJ,GAAIA,EACF,OAAOA,MCyKTgE,CACYlE,EAAOC,GAChB9C,MAAK,SAAChB,GACDA,GACF8E,EAAS9E,EAAI6D,OAEfmC,GAAQK,KAAK,WACbtB,EAAW,CACTJ,KAAMqD,EACNxI,KAAM,0KAERkG,IAAmB,MAEpBe,OAAM,WACL1B,EAAW,CACTJ,KAAMsC,EACNzH,KAAM,wMAERkG,IAAmB,WAoCf,cAAC,IAAD,UACGpJ,EAAW,cAAC,IAAD,CAAUW,GAAG,MAAS,cAAC,IAAD,CAAUA,GAAG,iBAInD,cAAC,EAAD,IAEA,cAAC,EAAD,CACEwC,OAAQwF,EACRvF,QAASwG,GACTrE,aAhLV,SAA0BoG,GACxB3H,EACG4H,eAAeD,GACfjH,MAAK,SAACiH,GACLnC,GAAemC,GACf/B,QAEDO,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,SA4KxB,cAAC,EAAD,CACEjH,OAAQ0F,EACRzF,QAASwG,GACTpH,WA3IV,SAA8BtB,GAC5B8C,EACG6H,YAAY3K,GACZwD,MAAK,SAACwG,GACLzB,GAAS,CAACyB,GAAF,mBAAc5I,MACtBsH,QAEDO,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,SAuIxB,cAAC,EAAD,CACEjI,KAAM,SACNa,MAAO,2DACPC,SAAU,6BACVC,KAAM,iBAGR,cAAC,EAAD,CACEC,OAAQgG,GACR/F,QAASwG,GACTzB,QAASA,IAGX,cAAC,EAAD,CACEhF,OAAQ4F,EACR3F,QAASwG,GACTpD,eA/LV,YAAuC,IAAV9D,EAAS,EAATA,OAC3BsB,EACG8H,aAAapJ,GACbgC,MAAK,SAACqH,GACL1B,QAAQC,IAAIyB,GACZvC,GAAeuC,GACf1B,QAAQC,IAAIhJ,IACZsI,QAEDO,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,SAyLxB,cAAC,EAAD,CACElJ,KAAMmI,GACNlG,OAAQ8F,EACR7F,QAASwG,aC3QNoC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBxH,MAAK,YAAkD,IAA/CyH,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.9b06ffed.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import logo from \"../images/logo.svg\";\r\nimport React from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\n\r\nfunction Header({ onLogout, loggedIn, userEmail }) {\r\n  const { pathname } = useLocation();\r\n  const linkText = `${pathname === \"/signin\" ? \"Регистрация\" : \"Войти\"}`;\r\n  const linkPath = `${pathname === \"/signin\" ? \"/signup\" : \"/signin\"}`;\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"logo\" src={logo} alt=\"Логотип сайта Mesto\" />\r\n      {loggedIn ? (\r\n        <div className=\"header__auth-info\">\r\n          <span className=\"header__auth-email\">{userEmail}</span>\r\n          <button className=\"header__singout\" onClick={onLogout}>\r\n            Выйти\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <Link to={linkPath} className=\"header__link\">\r\n          {linkText}\r\n        </Link>\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/footer__copyright-image.b2563baa.svg\";","import footerImage from \"../images/footer__copyright-image.svg\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <img\r\n        className=\"footer__copyright-image\"\r\n        src={footerImage}\r\n        alt=\"Изображение логотипа сайта\"\r\n      />\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","export default __webpack_public_path__ + \"static/media/edit-button.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/add-button.bed8c136.svg\";","import React from \"react\";\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ card, onCardClick, onCardDelete, onCardLike }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  const cardDeleteButtonClassName = `${\r\n    isOwn\r\n      ? \"photo-element__button-delete\"\r\n      : \"photo_element__button-delete_hidden\"\r\n  }`;\r\n\r\n  const isLiked = card.likes.some((item) => item._id === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = `${\r\n    isLiked ? \"photo-element__button-like_active\" : \"\"\r\n  }`;\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"photo-element\">\r\n      <button\r\n        type=\"button\"\r\n        className={cardDeleteButtonClassName}\r\n        onClick={handleDeleteClick}\r\n      />\r\n      <img\r\n        className=\"photo-element__picture\"\r\n        src={card.link}\r\n        alt={card.name}\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"photo-element__info\">\r\n        <h2 className=\"photo-element__title\">{card.name}</h2>\r\n        <div className=\"photo-element__likes-container\">\r\n          <button\r\n            type=\"button\"\r\n            className={`photo-element__button-like ${cardLikeButtonClassName}`}\r\n            onClick={handleLikeClick}\r\n          />\r\n          <span className=\"photo-element__likes-counter\">\r\n            {card.likes.length}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport profileEditButtonImage from \"../images/edit-button.svg\";\r\nimport cardAddButtonImage from \"../images/add-button.svg\";\r\nimport Card from \"./Card\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main({\r\n  cards,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  onCardClick,\r\n  onCardDelete,\r\n  onCardLike,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__overlay\">\r\n          <img\r\n            className=\"profile__avatar\"\r\n            src={currentUser.avatar}\r\n            alt=\"Изображение профиля\"\r\n            onClick={onEditAvatar}\r\n          />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button\r\n            type=\"button\"\r\n            className=\"profile__edit-button\"\r\n            onClick={onEditProfile}\r\n          >\r\n            <img\r\n              className=\"profile__edit-button-picture\"\r\n              src={profileEditButtonImage}\r\n              alt=\"Кнопка редактирования профиля\"\r\n            />\r\n          </button>\r\n          <p className=\"profile__profession\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          onClick={onAddPlace}\r\n        >\r\n          <img\r\n            className=\"profile__add-button-picture\"\r\n            src={cardAddButtonImage}\r\n            alt=\"Кнопка добавления изображений на сайт\"\r\n          />\r\n        </button>\r\n      </section>\r\n\r\n      <section className=\"photo-elements\">\r\n        {cards.map((card) => (\r\n          <Card\r\n            key={card._id}\r\n            card={card}\r\n            onCardClick={onCardClick}\r\n            onCardDelete={onCardDelete}\r\n            onCardLike={onCardLike}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function PopupWithForm({\r\n  name,\r\n  title,\r\n  children,\r\n  text,\r\n  isOpen,\r\n  onClose,\r\n  onSubmit,\r\n  isForm,\r\n}) {\r\n  return (\r\n    <div className={`popup popup-${name} ${isOpen ? \"popup_opened\" : \"\"}`}>\r\n      <form\r\n        onSubmit={onSubmit}\r\n        className=\"popup__form popup__container\"\r\n        noValidate\r\n      >\r\n        <h2 className=\"popup__container-title\">{title}</h2>\r\n        {children}\r\n        {isForm ? (\r\n          <button type=\"submit\" className=\"popup__submit\">\r\n            {text}\r\n          </button>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <button type=\"button\" className=\"popup__close\" onClick={onClose} />\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","function ImagePopup({card, isOpen, onClose}) {\r\n  return (\r\n    <div className={`popup popup-view ${isOpen ? \"popup_opened\" : \"\"}`}>\r\n      <div className=\"popup-view__container\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close popup-view__close-button\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <img className=\"popup-view__image\" src={card.link} alt={card.name} />\r\n        <h2 className=\"popup-view__card-title\">{card.name}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","const handleOriginalResponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n};\r\n\r\nexport default handleOriginalResponse;","import handleOriginalResponse from './utils';\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: { ...this._headers, \r\n        \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`\r\n      }\r\n    }).then(handleOriginalResponse);\r\n  }\r\n\r\n  getUserInfoFromServer() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: { ...this._headers, \r\n        \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`\r\n      }\r\n    }).then(handleOriginalResponse);\r\n  }\r\n\r\n  getAllInfo() {\r\n    return Promise.all([this.getUserInfoFromServer(), this.getInitialCards()]);\r\n  }\r\n\r\n  updateUserInfo(userData) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: userData.name,\r\n        about: userData.about\r\n      }),\r\n    }).then(handleOriginalResponse);\r\n  }\r\n\r\n  sendNewCard(cardData) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: cardData.name,\r\n        link: cardData.link\r\n      }),\r\n    }).then(handleOriginalResponse);\r\n  }\r\n\r\n  deleteCardFromServer(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(handleOriginalResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, status) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n      method: (status) ? \"PUT\" : \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(handleOriginalResponse);\r\n  }\r\n\r\n  updateAvatar(avatarLink) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatarLink\r\n      }),\r\n    }).then(handleOriginalResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"http://localhost:3001\",\r\n  headers: {\r\n    \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`,\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n// https://api.balor.nomoredomains.club\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const [name, setUserName] = React.useState(\"\");\r\n  const [description, setUserDescription] = React.useState(\"\");\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleChangeUserName(e) {\r\n    setUserName(e.target.value);\r\n  }\r\n\r\n  function handleChangeUserDescription(e) {\r\n    setUserDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setUserName(currentUser.name);\r\n    setUserDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={\"profile\"}\r\n      title={\"Редактировать профиль\"}\r\n      text={\"Сохранить\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isForm={true}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          name=\"name\"\r\n          id=\"profile-name-input\"\r\n          className=\"popup__input popup__input_type_name\"\r\n          type=\"text\"\r\n          placeholder=\"Имя\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          onChange={handleChangeUserName}\r\n          value={name || \"\"}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error profile-name-input-error\"></span>\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <input\r\n          name=\"profession\"\r\n          id=\"profile-profession-input\"\r\n          className=\"popup__input popup__input_type_profession\"\r\n          type=\"text\"\r\n          placeholder=\"Профессия\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          onChange={handleChangeUserDescription}\r\n          value={description || \"\"}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error profile-profession-input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const inputRef = React.useRef(\"\");\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: inputRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={\"avatar\"}\r\n      title={\"Обновить аватар\"}\r\n      text={\"Сохранить\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isForm={true}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          name=\"link\"\r\n          id=\"avatar-link-input\"\r\n          className=\"popup__input popup__input_type_card-link\"\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на аватар\"\r\n          ref={inputRef}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error avatar-link-input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [cardName, setCardName] = React.useState(\"\");\r\n  const [cardLink, setCardLink] = React.useState(\"\");\r\n\r\n  function handleChangeCardName(e) {\r\n    setCardName(e.target.value);\r\n  }\r\n\r\n  function handleChangeCardLink(e) {\r\n    setCardLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name: cardName,\r\n      link: cardLink,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={\"card\"}\r\n      title={\"Новое место\"}\r\n      text={\"Создать\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isForm={true}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          name=\"name\"\r\n          id=\"card-name-input\"\r\n          className=\"popup__input popup__input_type_card-name\"\r\n          type=\"text\"\r\n          placeholder=\"Название\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          onChange={handleChangeCardName}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error card-name-input-error\"></span>\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <input\r\n          name=\"link\"\r\n          id=\"card-link-input\"\r\n          className=\"popup__input popup__input_type_card-link\"\r\n          type=\"url\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          onChange={handleChangeCardLink}\r\n          required\r\n        />\r\n        <span className=\"popup__input-error card-link-input-error\"></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction AuthorizationForm({ children, title, text, active, onSubmit }) {\r\n  return (\r\n    <div className=\"authorization\">\r\n      <div className=\"authorization__container\">\r\n        <h2 className=\"authorization__title\">{title}</h2>\r\n        <form\r\n          className=\"authorization__form\"\r\n          onSubmit={onSubmit}\r\n          action=\"#\"\r\n          noValidate\r\n        >\r\n          {children}\r\n          <button type=\"submit\" className=\"authorization__submit-button\">\r\n            {text}\r\n          </button>\r\n        </form>\r\n        <p className={`authorization__text ${active}`}>\r\n          Уже зарегистрированы?{\" \"}\r\n          <Link to=\"/signin\" className=\"authorization__link\">\r\n            Войти\r\n          </Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AuthorizationForm;\r\n","import React from \"react\";\r\nimport AuthorizationForm from \"./AuthorizationForm\";\r\n\r\nfunction Login({ onLogin }) {\r\n  const [data, setData] = React.useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  function handleChange(e) {\r\n    const { name, value } = e.target;\r\n    setData({\r\n      ...data,\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const { email, password } = data;\r\n    if (!password || !email) {\r\n      return;\r\n    }\r\n    onLogin(email, password);\r\n  }\r\n\r\n  return (\r\n    <AuthorizationForm\r\n      title={\"Вход\"}\r\n      text={\"Войти\"}\r\n      active={\"\"}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label>\r\n        <input\r\n          type=\"email\"\r\n          value={data.email}\r\n          className=\"authorization__item auth__item_type_email\"\r\n          name=\"email\"\r\n          onChange={handleChange}\r\n          placeholder=\"Email\"\r\n          required\r\n          minLength=\"4\"\r\n          maxLength=\"40\"\r\n        />\r\n        <span id=\"email-error\" className=\"authorization__error\"></span>\r\n      </label>\r\n      <label>\r\n        <input\r\n          type=\"password\"\r\n          value={data.password}\r\n          className=\"authorization__item auth__item_type_password\"\r\n          name=\"password\"\r\n          onChange={handleChange}\r\n          placeholder=\"Пароль\"\r\n          required\r\n          minLength=\"8\"\r\n          maxLength=\"20\"\r\n        />\r\n        <span id=\"password-error\" className=\"authorization__error\"></span>\r\n      </label>\r\n    </AuthorizationForm>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport AuthorizationForm from \"./AuthorizationForm\";\r\n\r\nfunction Register({ onRegister }) {\r\n  const [data, setData] = React.useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  function handleChange(e) {\r\n    const { name, value } = e.target;\r\n    setData({\r\n      ...data,\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    let { email, password } = data;\r\n    onRegister(email, password);\r\n  }\r\n\r\n  return (\r\n    <AuthorizationForm\r\n      title={\"Регистрация\"}\r\n      text={\"Зарегистрироваться\"}\r\n      active={\"authorization__text_active\"}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label>\r\n        <input\r\n          type=\"email\"\r\n          value={data.email}\r\n          className=\"authorization__item\"\r\n          name=\"email\"\r\n          onChange={handleChange}\r\n          placeholder=\"Email\"\r\n          required\r\n          minLength=\"4\"\r\n          maxLength=\"40\"\r\n        />\r\n        <span id=\"email-error\" className=\"authorization__error\"></span>\r\n      </label>\r\n      <label>\r\n        <input\r\n          type=\"password\"\r\n          value={data.password}\r\n          className=\"authorization__item\"\r\n          name=\"password\"\r\n          onChange={handleChange}\r\n          placeholder=\"Пароль\"\r\n          required\r\n          minLength=\"8\"\r\n          maxLength=\"20\"\r\n        />\r\n        <span id=\"password-error\" className=\"authorization__error\"></span>\r\n      </label>\r\n    </AuthorizationForm>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ component: Component, ...props }) {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./login\" />\r\n      }\r\n    </Route>\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction InfoTooltip({ isOpen, onClose, message }) {\r\n  return (\r\n    <PopupWithForm\r\n      isModal={false}\r\n      name={\"authorization\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      isForm={false}\r\n    >\r\n      <img\r\n        src={message.icon}\r\n        className=\"popup__tooltip-image\"\r\n        alt=\"иконка авторизации\"\r\n      />\r\n      <p className=\"popup__tooltip-text\">{message.text}</p>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","export default __webpack_public_path__ + \"static/media/profile-avatar.bbe7c5b6.jpg\";","export default __webpack_public_path__ + \"static/media/success-icon.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/failure-icon.7c6a020b.svg\";","import handleOriginalResponse from \"./utils\";\r\nconst BASE_URL = \"http://localhost:3001\";\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n  .then(handleOriginalResponse)\r\n  .then(data => {\r\n    if (data) {\r\n      return data;\r\n    }\r\n  })\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n  .then(handleOriginalResponse)\r\n  .then(data => {\r\n    if (data.token) {\r\n      localStorage.setItem('jwt', data.token);\r\n      return data;\r\n    }\r\n  })\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\": `Bearer ${token}`,\r\n    },\r\n  })\r\n  .then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status} - ${res.statusText}`);\r\n  })\r\n  .then(data => {\r\n    return data;\r\n  })\r\n};\r\n","import React from \"react\";\r\nimport { Redirect, Route, Switch, useHistory } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport Main from \"./Main\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/api.js\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport defaultAvatar from '../images/profile-avatar.jpg';\r\nimport successIcon from \"../images/success-icon.svg\";\r\nimport failureIcon from \"../images/failure-icon.svg\";\r\nimport * as auth from \"../utils/auth.js\";\r\n\r\nfunction App() {\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [message, setMessage] = React.useState({\r\n    icon: \"\",\r\n    text: \"\",\r\n  });\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\r\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [currentUser, setCurrentUser] = React.useState({\r\n    name: 'Жак Ив-Кусто',\r\n    about: 'Исследователь',\r\n    email: '',\r\n    avatar: defaultAvatar\r\n  });\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  const history = useHistory();\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setImagePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setImagePopupOpen(false);\r\n    setInfoTooltipOpen(false);\r\n  }\r\n\r\n  function handleUpdateUser(info) {\r\n    api\r\n      .updateUserInfo(info)\r\n      .then((info) => {\r\n        setCurrentUser(info);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleUpdateAvatar({avatar}) {\r\n    api\r\n      .updateAvatar(avatar)\r\n      .then((newData) => {\r\n        console.log(newData);\r\n        setCurrentUser(newData);\r\n        console.log(currentUser);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCardFromServer(card._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== card._id));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    api\r\n      .sendNewCard(card)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (loggedIn) {\r\n      api\r\n        .getAllInfo()\r\n        .then(([userInfo, cardsInfo]) => {\r\n          setCurrentUser(userInfo);\r\n          setCards(cardsInfo);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }, [loggedIn]);\r\n\r\n  React.useEffect(() => {\r\n    const jwt = localStorage.getItem(\"jwt\");\r\n    if (jwt) {\r\n      auth\r\n        .getContent(jwt)\r\n        .then((data) => {\r\n          setEmail(data.email);\r\n          setLoggedIn(true);\r\n          history.push(\"/\");\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          setMessage({\r\n            icon: failureIcon,\r\n            text: \"Что-то пошло не так! Попробуйте ещё раз.\",\r\n          });\r\n          setInfoTooltipOpen(true);\r\n        });\r\n    } else return;\r\n  }, [loggedIn, history]);\r\n\r\n  function handleLogin(email, password) {\r\n    auth\r\n      .authorize(email, password)\r\n      .then((res) => {\r\n        localStorage.setItem(\"jwt\", res.token);\r\n        setEmail(email);\r\n        setLoggedIn(true);\r\n        history.push(\"/\");\r\n      })\r\n      .catch(() => {\r\n        setMessage({\r\n          icon: failureIcon,\r\n          text: \"Что-то пошло не так! Попробуйте ещё раз.\",\r\n        });\r\n        setInfoTooltipOpen(true);\r\n      });\r\n  }\r\n\r\n  function handleLogout() {\r\n    localStorage.removeItem(\"jwt\");\r\n    setEmail(\"\");\r\n    setLoggedIn(false);\r\n    history.push(\"/signin\");\r\n  }\r\n\r\n  function handleRegister(email, password) {\r\n    auth\r\n      .register(email, password)\r\n      .then((res) => {\r\n        if (res) {\r\n          setEmail(res.email);\r\n        }\r\n        history.push(\"/signin\");\r\n        setMessage({\r\n          icon: successIcon,\r\n          text: \"Вы успешно зарегистрировались!\",\r\n        });\r\n        setInfoTooltipOpen(true);\r\n      })\r\n      .catch(() => {\r\n        setMessage({\r\n          icon: failureIcon,\r\n          text: \"Что-то пошло не так! Попробуйте ещё раз.\",\r\n        });\r\n        setInfoTooltipOpen(true);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"App page\">\r\n        <div className=\"page__container\">\r\n          <Header\r\n            onLogout={handleLogout}\r\n            loggedIn={loggedIn}\r\n            userEmail={email}\r\n          />\r\n          <Switch>\r\n            <ProtectedRoute\r\n              exact\r\n              path=\"/\"\r\n              loggedIn={loggedIn}\r\n              handleLogout={handleLogout}\r\n              component={Main}\r\n              cards={cards}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onCardClick={(card) => {\r\n                handleCardClick(card);\r\n              }}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}\r\n            />\r\n            <Route path=\"/signin\">\r\n              <Login onLogin={handleLogin} />\r\n            </Route>\r\n            <Route path=\"/signup\">\r\n              <Register onRegister={handleRegister} />\r\n            </Route>\r\n            <Route>\r\n              {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/signin\" />}\r\n            </Route>\r\n          </Switch>\r\n\r\n          <Footer />\r\n\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n          />\r\n\r\n          <PopupWithForm\r\n            name={\"delete\"}\r\n            title={\"Вы уверены?\"}\r\n            children={<></>}\r\n            text={\"Да\"}\r\n          />\r\n\r\n          <InfoTooltip\r\n            isOpen={isInfoTooltipOpen}\r\n            onClose={closeAllPopups}\r\n            message={message}\r\n          />\r\n\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n\r\n          <ImagePopup\r\n            card={selectedCard}\r\n            isOpen={isImagePopupOpen}\r\n            onClose={closeAllPopups}\r\n          />\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}